(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,n,t){e.exports={Barcode:"Barcode_Barcode__1SsdJ",BarcodeSvg:"Barcode_BarcodeSvg__1Qax6",BarcodeSpace:"Barcode_BarcodeSpace__z-r8e",BarcodeRemove:"Barcode_BarcodeRemove__wcE_F",BarcodeInput:"Barcode_BarcodeInput__1nxFu",BarcodeComment:"Barcode_BarcodeComment__19W3m"}},10:function(e,n,t){e.exports={Button:"Button_Button__19aDJ"}},11:function(e,n,t){e.exports={Container:"Container_Container__2EHaJ"}},16:function(e,n,t){e.exports=t(31)},22:function(e,n,t){},31:function(e,n,t){"use strict";t.r(n);var a,o=t(0),r=t.n(o),c=t(9),i=t.n(c),d=(t(22),t(3)),l=t(2),u=t(15),s="barcodes";var m={clear:"clear",change:"change",remove:"remove"},f=(a={},Object(l.a)(a,m.clear,function(){return[]}),Object(l.a)(a,m.change,function(e,n){return e.map(function(e){return e.id===n.payload.id?n.payload:e})}),Object(l.a)(a,m.remove,function(e,n){return e.filter(function(e){return e.id!==n.payload.id})}),Object(l.a)(a,m.add,function(e,n){return[].concat(Object(u.a)(e),[n.payload])}),a);function p(e,n){var t=f[n.type];return t?t(e,n):e}var v=function(){var e=Object(o.useReducer)(p,JSON.parse(localStorage.getItem(s))||[]),n=Object(d.a)(e,2),t=n[0],a=n[1],r={clear:function(){return a({type:m.clear})},change:function(e){return a({type:m.change,payload:e})},remove:function(e){return a({type:m.remove,payload:e})},add:function(){return a({type:m.add,payload:{id:Date.now(),code:"",comment:""}})}};return Object(o.useEffect)(function(){!function(e){localStorage.setItem(s,JSON.stringify(e))}(t)},[t]),{barcodes:t,actions:r}},g=t(10),h=t.n(g);function b(e){var n=e.children,t=e.type,a=e.onClick;return r.a.createElement(o.Fragment,null,r.a.createElement("button",{type:t,onClick:a,className:h.a.Button},n)," ")}b.defaultProps={type:"button"};var _=b,B=t(11),E=t.n(B);var w=function(e){var n=e.children;return r.a.createElement("div",{className:E.a.Container},n)},y=t(4),C=t.n(y);var k=function(e){var n=e.children;return r.a.createElement("div",{className:C.a.Header},r.a.createElement("h1",{className:C.a.HeaderTitle},"Barcoder"),r.a.createElement("div",{className:C.a.HeaderContent},n))},O=t(5),S=t(12),j=t.n(S),N=t(13),A=t.n(N),x=t(14),H=t.n(x),R={encoder:A.a,renderer:H.a,width:2,height:100,fontSize:20,margins:16},I=t(1),W=t.n(I);function J(e){var n=e.children,t=R.height+2*R.margins+R.fontSize/2-32;return r.a.createElement("div",{style:{height:t,margin:16},className:W.a.BarcodeSpace},n)}function P(e){return{display:e?"block":"none"}}var T=Object(o.memo)(function(e){var n=e.barcode,t=e.onChange,a=e.onRemove,c=Object(o.useRef)(null),i=Object(o.useState)(""),l=Object(d.a)(i,2),u=l[0],s=l[1],m=!u&&(!c||c&&n.code);return Object(o.useEffect)(function(){if(n.code)try{j()(c.current,n.code,R),u&&s("")}catch(e){s("invalid input")}},[n]),r.a.createElement("div",{className:W.a.Barcode},r.a.createElement("button",{className:W.a.BarcodeRemove,onClick:function(){return a(n)},type:"button",title:"Remove barcode"},"+"),r.a.createElement("svg",{ref:c,className:W.a.BarcodeSvg,style:P(m)}),!m&&r.a.createElement(J,null,u||"empty"),r.a.createElement("label",{className:W.a.BarcodeInput},r.a.createElement("input",{type:"text",id:"bci_".concat(n.id),value:n.code,onChange:function(e){return t(Object(O.a)({},n,{code:e.target.value}))},maxLength:25,placeholder:"Code..."}),r.a.createElement("span",null)),r.a.createElement("label",{className:"".concat(W.a.BarcodeInput," ").concat(W.a.BarcodeComment)},r.a.createElement("input",{type:"text",id:"bcc_".concat(n.id),value:n.comment,onChange:function(e){return t(Object(O.a)({},n,{comment:e.target.value}))},maxLength:25,placeholder:"Comment..."}),r.a.createElement("span",null)))},function(e,n){return e.barcode===n.barcode}),L=t(6),z=t.n(L);var F=Object(o.memo)(function(e){var n=e.onClick;return r.a.createElement("div",{className:z.a.AddButtonContainer},r.a.createElement("button",{className:z.a.AddButton,onClick:n,type:"button",title:"Add barcode"},"+"))},function(){return!0});var U=function(){var e=v(),n=e.barcodes,t=e.actions;return r.a.createElement(o.Fragment,null,r.a.createElement(k,null,r.a.createElement(_,{onClick:t.clear},"Clear"),r.a.createElement(_,{onClick:function(){return window.print()}},"Print")),r.a.createElement(w,null,n.map(function(e){return r.a.createElement(T,{key:e.id,barcode:e,onChange:t.change,onRemove:t.remove})}),r.a.createElement(F,{onClick:t.add})))},D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(U,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/barcoder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/barcoder","/service-worker.js");D?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):G(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):G(n,e)})}}()},4:function(e,n,t){e.exports={Header:"Header_Header__1RV2T",HeaderTitle:"Header_HeaderTitle__m4rGz",HeaderContent:"Header_HeaderContent__2oPIQ"}},6:function(e,n,t){e.exports={AddButtonContainer:"AddButton_AddButtonContainer__3Y71V",AddButton:"AddButton_AddButton__2-0LK",BarcodeSpace:"AddButton_BarcodeSpace__1bee4",BarcodeInput:"AddButton_BarcodeInput__1PIGK"}}},[[16,1,2]]]);
//# sourceMappingURL=main.2bc0f1ea.chunk.js.map