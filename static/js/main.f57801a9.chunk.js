(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,n,t){e.exports={Container:"Container_Container__2EHaJ"}},16:function(e,n,t){e.exports=t(31)},2:function(e,n,t){e.exports={Barcode:"Barcode_Barcode__1SsdJ",BarcodeSvg:"Barcode_BarcodeSvg__1Qax6",BarcodeSpace:"Barcode_BarcodeSpace__z-r8e",BarcodeRemove:"Barcode_BarcodeRemove__wcE_F",BarcodeInput:"Barcode_BarcodeInput__1nxFu"}},22:function(e,n,t){},31:function(e,n,t){"use strict";t.r(n);var a,r=t(0),o=t.n(r),c=t(8),i=t.n(c),d=(t(22),t(3)),l=t(1),u=t(15),s="barcodes";var f={clear:"clear",change:"change",remove:"remove"},m=(a={},Object(l.a)(a,f.clear,function(){return[]}),Object(l.a)(a,f.change,function(e,n){return e.map(function(e){return e.id===n.payload.id?n.payload:e})}),Object(l.a)(a,f.remove,function(e,n){return e.filter(function(e){return e.id!==n.payload.id})}),Object(l.a)(a,f.add,function(e,n){return[].concat(Object(u.a)(e),[n.payload])}),a);function v(e,n){var t=m[n.type];return t?t(e,n):e}var p=function(){var e=Object(r.useReducer)(v,JSON.parse(localStorage.getItem(s))||[]),n=Object(d.a)(e,2),t=n[0],a=n[1],o={clear:function(){return a({type:f.clear})},change:function(e){return a({type:f.change,payload:e})},remove:function(e){return a({type:f.remove,payload:e})},add:function(){return a({type:f.add,payload:{id:Date.now(),code:""}})}};return Object(r.useEffect)(function(){!function(e){localStorage.setItem(s,JSON.stringify(e))}(t)},[t]),{barcodes:t,actions:o}},g=t(9),h=t.n(g);function b(e){var n=e.children,t=e.type,a=e.onClick;return o.a.createElement(r.Fragment,null,o.a.createElement("button",{type:t,onClick:a,className:h.a.Button},n)," ")}b.defaultProps={type:"button"};var _=b,B=t(10),w=t.n(B);var y=function(e){var n=e.children;return o.a.createElement("div",{className:w.a.Container},n)},E=t(4),C=t.n(E);var k=function(e){var n=e.children;return o.a.createElement("div",{className:C.a.Header},o.a.createElement("h1",{className:C.a.HeaderTitle},"Barcoder"),o.a.createElement("div",{className:C.a.HeaderContent},n))},S=t(11),O=t(12),j=t.n(O),A=t(13),N=t.n(A),H=t(14),R=t.n(H),x={encoder:N.a,renderer:R.a,width:2,height:100,fontSize:20,margins:16},I=t(2),J=t.n(I);function W(e){var n=e.children,t=x.height+2*x.margins+x.fontSize/2-32;return o.a.createElement("div",{style:{height:t,margin:16},className:J.a.BarcodeSpace},n)}function P(e){return{display:e?"block":"none"}}var T=Object(r.memo)(function(e){var n=e.barcode,t=e.onChange,a=e.onRemove,c=Object(r.useRef)(null),i=Object(r.useState)(""),l=Object(d.a)(i,2),u=l[0],s=l[1],f=!u&&(!c||c&&n.code);return Object(r.useEffect)(function(){if(n.code)try{j()(c.current,n.code,x),u&&s("")}catch(e){s("invalid input")}},[n]),o.a.createElement("div",{className:J.a.Barcode},o.a.createElement("button",{className:J.a.BarcodeRemove,onClick:function(){return a(n)},type:"button",title:"Remove barcode"},"+"),o.a.createElement("svg",{ref:c,className:J.a.BarcodeSvg,style:P(f)}),!f&&o.a.createElement(W,null,u||"empty"),o.a.createElement("label",{className:J.a.BarcodeInput},o.a.createElement("input",{type:"text",id:"bci_".concat(n.id),value:n.code,onChange:function(e){return t(Object(S.a)({},n,{code:e.target.value}))},placeholder:" "}),o.a.createElement("span",null)))},function(e,n){return e.barcode===n.barcode}),z=t(5),F=t.n(z);var L=Object(r.memo)(function(e){var n=e.onClick;return o.a.createElement("div",{className:F.a.AddButtonContainer},o.a.createElement("button",{className:F.a.AddButton,onClick:n,type:"button",title:"Add barcode"},"+"))},function(){return!0});var U=function(){var e=p(),n=e.barcodes,t=e.actions;return o.a.createElement(r.Fragment,null,o.a.createElement(k,null,o.a.createElement(_,{onClick:t.clear},"Clear"),o.a.createElement(_,{onClick:function(){return window.print()}},"Print")),o.a.createElement(y,null,n.map(function(e){return o.a.createElement(T,{key:e.id,barcode:e,onChange:t.change,onRemove:t.remove})}),o.a.createElement(L,{onClick:t.add})))},D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(U,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/barcoder",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/barcoder","/service-worker.js");D?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):G(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):G(n,e)})}}()},4:function(e,n,t){e.exports={Header:"Header_Header__1RV2T",HeaderTitle:"Header_HeaderTitle__m4rGz",HeaderContent:"Header_HeaderContent__2oPIQ"}},5:function(e,n,t){e.exports={AddButtonContainer:"AddButton_AddButtonContainer__3Y71V",AddButton:"AddButton_AddButton__2-0LK",BarcodeSpace:"AddButton_BarcodeSpace__1bee4",BarcodeInput:"AddButton_BarcodeInput__1PIGK"}},9:function(e,n,t){e.exports={Button:"Button_Button__19aDJ"}}},[[16,1,2]]]);
//# sourceMappingURL=main.f57801a9.chunk.js.map